<ion-header>
    <ion-toolbar>
        <ion-title>Forum</ion-title>
        <ion-buttons slot="end">
            <ion-menu-button menu="m1"></ion-menu-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <ion-grid>
        <p text-center>
            {{thread.name}}
        </p>
        <ion-row>
            <ion-col size="4" offset="4">
                <ion-button (click)="presentAlertPrompt()">Add New Comment</ion-button>
            </ion-col>
        </ion-row>
        <ion-row text-right align-items-center ion-justify-content-end>
            <ion-col size="1.5" offset="4">
                <ion-label>Page</ion-label>
            </ion-col>
            <ion-col size="1.5">
                <ion-list>
                    <ion-select 
                        [(ngModel)]="selectedPlace" 
                        (ionChange)="updateComment()"
                    >
                        <ion-select-option [value]="page" *ngFor="let page of paging">{{page}}</ion-select-option>
                    </ion-select>
                </ion-list>
            </ion-col>
            <ion-col size="1.5">
                <ion-text>of {{pages}}</ion-text>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size="12">
                <ion-card *ngIf="thread!=undefined">
                    <ion-card-header>
                        <ion-grid>
                            <ion-row>
                                <ion-col size="2">
                                    <ion-avatar>
                                        <ion-img class="img-avt" src="{{thread.makerImage}}"></ion-img>
                                    </ion-avatar>
                                </ion-col>
                                <ion-col style="padding-top: 20px">
                                    <ion-card-title>{{thread.makerUsername}}</ion-card-title>
                                </ion-col>
                                <ion-col style="padding-top: 20px">
                                    <ion-card-subtitle text-right>{{thread.timestamp}}</ion-card-subtitle>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </ion-card-header>
                    <ion-card-content>
                        <ion-card>
                            <ion-card-content>
                                <ion-text>{{thread.description}}</ion-text>
                            </ion-card-content>
                        </ion-card>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
        
        <ion-row *ngFor="let comment of comments">
            <ion-col size="10" offset="2">
                <ion-card class="commentCard">
                    <ion-card-header class="headerCommentCard">
                        <ion-grid>
                            <ion-row>
                                <ion-col size="2">
                                    <ion-avatar>
                                        <ion-img
                                            src="{{comment.profileImage}}"
                                            class="commentImage" 
                                        >
                                        </ion-img>
                                    </ion-avatar>
                                </ion-col>
                                <ion-col style="padding-top: 20px">
                                    <ion-card-title class="commentTitle">
                                        {{comment.username}}
                                    </ion-card-title>
                                </ion-col>
                                <ion-col style="padding-top: 20px">
                                    <ion-card-subtitle class="commentTime" text-right>
                                        {{comment.timestamp}}
                                    </ion-card-subtitle>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </ion-card-header>
                    <p class="descCommentBorder">
                        {{comment.threadComment}}
                    </p>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
